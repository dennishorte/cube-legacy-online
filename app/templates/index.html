{% extends "base.html" %}

{% block title %}
  Cube Legacy Online
{% endblock %}

{% block content %}
  <div class="row mb-5" >
    
    <!-- User drafts and achievements -->
    <div id="drafts" class="col col-md-6">
      <h4>Drafts</h4>
      <div id="active" class="border bg-light p-2">
        <p>Active Drafts</p>
        <ul class="list-unstyled ml-4">
          {% for p in active %}
            <li>
              <a href="/draft/{{p.draft.id}}">{{ p.draft.name }}</a>
              {% if p.waiting_pack() %}
                <span class="badge badge-pill badge-success">*</span>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      </div>
      <div id="complete" class="border bg-light p-2 mt-2">
        <p>Completed Drafts</p>
        <ul class="list-unstyled ml-4">
          {% for p in complete %}
            <li><a href="/draft/{{p.draft.id}}">{{ p.draft.name }}</a></li>
          {% endfor %}
        </ul>
      </div>

      <!-- List of Achievements -->
      <h4 class="mt-4">Achievements</h4>
      <div id="claimedAchievements" class="border bg-light p-2">
        <p>Claimed Achievements</p>
        <ul class="list-unstyled ml-4">
          {% for achievement in achievements_unfinished %}
            <li>
              <a href="{{ url_for('achievement_view', achievement_id=achievement.id) }}">
                {{ achievement.name }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>

      <div id="completedAchievements" class="border bg-light p-2 mt-2">
        <p>Finalized Achievements</p>
        <ul class="list-unstyled ml-4">
          {% for achievement in achievements_finished %}
            <li>
              <a href="{{ url_for('achievement_view', achievement_id=achievement.id) }}">
                {{ achievement.name }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
      <!-- END: List of Achievements -->

      <!-- Slack Test -->
      <a class="btn btn-info mt-2" href="{{ url_for('slack_test') }}">Test Slack</a>
      <!-- END: Slack Test -->

    </div>
    <!-- END: User drafts and achievements -->

    <!-- New draft form -->
    <div id="new_draft" class="col border bg-light col-md-6">
      <h4 class="mt-2">New Draft</h4>
      <form action="/draft/new" method="post" novalidate>
        {{ new_draft_form.hidden_tag() }}
        <div class="form-group">
          {{ new_draft_form.name.label }}
          {{ new_draft_form.name(class='form-control') }}
        </div>
        <div class="form-group">
          {{ new_draft_form.cube.label }}
          {{ new_draft_form.cube(class='form-control') }}
        </div>
        <div class="form-group">
          {{ new_draft_form.packsize.label }}
          {{ new_draft_form.packsize(class='form-control') }}
        </div>
        <div class="form-group">
          {{ new_draft_form.numpacks.label }}
          {{ new_draft_form.numpacks(class='form-control') }}
        </div>
        <div class="form-group">
          {{ new_draft_form.scar_rounds.label }}
          {{ new_draft_form.scar_rounds(class='form-control') }}
        </div>
        <div class="form-group">
          {{ new_draft_form.players.label }}
          {{ new_draft_form.players(class='form-control', size=6) }}
        </div>
        <div class="form-group">
          {{ new_draft_form.submit() }}
        </div>
      </form>
    </div>
    <!-- END: New draft form -->

  </div>
{% endblock %}
